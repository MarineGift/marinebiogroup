(()=>{var e={};e.id=372,e.ids=[372],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},654:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c}),s(8468),s(2029),s(5866);var r=s(3191),a=s(8716),l=s(7922),i=s.n(l),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["admin",{children:["menu",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8468)),"D:\\0_프로그램개발\\Github\\marinebiogroup\\src\\app\\admin\\menu\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"D:\\0_프로그램개발\\Github\\marinebiogroup\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\0_프로그램개발\\Github\\marinebiogroup\\src\\app\\admin\\menu\\page.tsx"],m="/admin/menu/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/menu/page",pathname:"/admin/menu",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3999:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},961:()=>{},4910:(e,t,s)=>{Promise.resolve().then(s.bind(s,5268))},5268:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(326),a=s(7577);function l(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(null),[i,n]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),[o,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(null),[u,p]=(0,a.useState)({title:"",url:"",parentId:"",order:1,isActive:!0,target:"_self",icon:"",description:""}),[b,g]=(0,a.useState)(!1),[j,v]=(0,a.useState)(null),[y,f]=(0,a.useState)({name:"",location:"header",isActive:!0}),[N,w]=(0,a.useState)(!1),k=async()=>{n(!0),c("");try{let e=await fetch("/api/admin/menus"),r=await e.json();r.success?(t(r.data),r.data.length>0&&!s&&l(r.data[0])):c("메뉴 데이터를 불러오는데 실패했습니다.")}catch(e){c("네트워크 오류가 발생했습니다."),console.error("Error fetching menus:",e)}finally{n(!1)}},C=(e,t)=>{if(e)h(e),p({title:e.title,url:e.url,parentId:e.parentId?.toString()||"",order:e.order,isActive:e.isActive,target:e.target,icon:e.icon||"",description:e.description||""});else{h(null);let e=s?.items.length?Math.max(...s.items.map(e=>e.order)):0;p({title:"",url:"",parentId:t?.toString()||"",order:e+1,isActive:!0,target:"_self",icon:"",description:""})}m(!0)},P=e=>{e?(v(e),f({name:e.name,location:e.location,isActive:e.isActive})):(v(null),f({name:"",location:"header",isActive:!0})),g(!0)},_=async()=>{if(!u.title.trim()||!u.url.trim()){alert("제목과 URL은 필수입니다.");return}if(!s){alert("메뉴 그룹을 선택해주세요.");return}w(!0);try{let e={...u,parentId:u.parentId?parseInt(u.parentId):null,groupId:s.id},t=x?`/api/admin/menus/items/${x.id}`:"/api/admin/menus/items";(await fetch(t,{method:x?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(alert(x?"메뉴가 수정되었습니다.":"메뉴가 추가되었습니다."),m(!1),k()):alert("저장 중 오류가 발생했습니다.")}catch(e){console.error("Save error:",e),alert("저장 중 오류가 발생했습니다.")}finally{w(!1)}},I=async()=>{if(!y.name.trim()){alert("그룹명은 필수입니다.");return}w(!0);try{let e=j?`/api/admin/menus/groups/${j.id}`:"/api/admin/menus/groups";(await fetch(e,{method:j?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok?(alert(j?"그룹이 수정되었습니다.":"그룹이 추가되었습니다."),g(!1),k()):alert("저장 중 오류가 발생했습니다.")}catch(e){console.error("Save error:",e),alert("저장 중 오류가 발생했습니다.")}finally{w(!1)}},S=async e=>{if(confirm("정말 삭제하시겠습니까? 하위 메뉴도 함께 삭제됩니다."))try{(await fetch(`/api/admin/menus/items/${e}`,{method:"DELETE"})).ok?(alert("메뉴가 삭제되었습니다."),k()):alert("삭제 중 오류가 발생했습니다.")}catch(e){console.error("Delete error:",e),alert("삭제 중 오류가 발생했습니다.")}},A=async e=>{if(confirm("정말 삭제하시겠습니까? 그룹에 속한 모든 메뉴가 삭제됩니다."))try{(await fetch(`/api/admin/menus/groups/${e}`,{method:"DELETE"})).ok?(alert("그룹이 삭제되었습니다."),l(null),k()):alert("삭제 중 오류가 발생했습니다.")}catch(e){console.error("Delete error:",e),alert("삭제 중 오류가 발생했습니다.")}},T=async(e,t)=>{try{(await fetch(`/api/admin/menus/items/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:t})})).ok?k():alert("순서 변경에 실패했습니다.")}catch(e){console.error("Order update error:",e),alert("순서 변경 중 오류가 발생했습니다.")}},E=(e,t=0)=>{let s=e.filter(e=>!e.parentId),a=e.filter(e=>e.parentId);return s.map(e=>(0,r.jsxs)("div",{className:`ml-${4*t}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg mb-2 bg-white",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[e.icon&&r.jsx("span",{className:"text-lg",children:e.icon}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium",children:e.title}),r.jsx("div",{className:"text-sm text-gray-500",children:e.url}),e.description&&r.jsx("div",{className:"text-xs text-gray-400",children:e.description})]}),!e.isActive&&r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:"비활성"}),"_blank"===e.target&&r.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-600 rounded",children:"새창"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:e.order,onChange:t=>T(e.id,parseInt(t.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",min:"1"}),r.jsx("button",{onClick:()=>C(void 0,e.id),className:"text-green-600 hover:text-green-900 text-sm",children:"하위추가"}),r.jsx("button",{onClick:()=>C(e),className:"text-blue-600 hover:text-blue-900 text-sm",children:"편집"}),r.jsx("button",{onClick:()=>S(e.id),className:"text-red-600 hover:text-red-900 text-sm",children:"삭제"})]})]}),a.filter(t=>t.parentId===e.id).length>0&&r.jsx("div",{className:"ml-6 border-l-2 border-gray-200 pl-4",children:E(a.filter(t=>t.parentId===e.id),t+1)})]},e.id))},G=e=>({header:"헤더",footer:"푸터",sidebar:"사이드바"})[e]||e;return(0,r.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"메뉴 관리"}),r.jsx("button",{onClick:()=>P(),className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"새 그룹 추가"})]}),i&&(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"로딩 중..."})]}),d&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:d}),!i&&!d&&(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"메뉴 그룹"}),r.jsx("div",{className:"space-y-2",children:e.map(e=>r.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${s?.id===e.id?"bg-blue-50 border-blue-500":"hover:bg-gray-50"}`,onClick:()=>l(e),children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium",children:e.name}),r.jsx("div",{className:"text-sm text-gray-500",children:G(e.location)}),(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:[e.items.length,"개 메뉴"]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[!e.isActive&&r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:"비활성"}),(0,r.jsxs)("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:t=>{t.stopPropagation(),P(e)},className:"text-blue-600 hover:text-blue-900 text-xs",children:"편집"}),r.jsx("button",{onClick:t=>{t.stopPropagation(),A(e.id)},className:"text-red-600 hover:text-red-900 text-xs",children:"삭제"})]})]})]})},e.id))})]})}),r.jsx("div",{className:"lg:col-span-3",children:s?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold",children:[s.name," 메뉴"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[G(s.location)," • ",s.items.length,"개 항목"]})]}),r.jsx("button",{onClick:()=>C(),className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"메뉴 추가"})]}),s.items.length>0?r.jsx("div",{className:"space-y-2",children:E(s.items)}):(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("p",{children:"메뉴가 없습니다."}),r.jsx("button",{onClick:()=>C(),className:"mt-2 text-blue-500 hover:text-blue-700",children:"첫 번째 메뉴 추가하기"})]})]}):r.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center text-gray-500",children:r.jsx("p",{children:"메뉴 그룹을 선택해주세요."})})})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:x?"메뉴 편집":"새 메뉴 추가"}),r.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"메뉴명 *"}),r.jsx("input",{type:"text",value:u.title,onChange:e=>p(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"메뉴 이름"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"URL *"}),r.jsx("input",{type:"text",value:u.url,onChange:e=>p(t=>({...t,url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"/about, https://example.com"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"상위 메뉴"}),(0,r.jsxs)("select",{value:u.parentId,onChange:e=>p(t=>({...t,parentId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"없음 (최상위)"}),s?.items.filter(e=>!e.parentId).map(e=>r.jsx("option",{value:e.id,children:e.title},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"순서"}),r.jsx("input",{type:"number",value:u.order,onChange:e=>p(t=>({...t,order:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"아이콘"}),r.jsx("input",{type:"text",value:u.icon,onChange:e=>p(t=>({...t,icon:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"\uD83C\uDFE0 (이모지 또는 아이콘 클래스)"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"설명"}),r.jsx("input",{type:"text",value:u.description,onChange:e=>p(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"메뉴 설명 (선택사항)"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"링크 대상"}),(0,r.jsxs)("select",{value:u.target,onChange:e=>p(t=>({...t,target:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"_self",children:"같은 창"}),r.jsx("option",{value:"_blank",children:"새 창"})]})]}),r.jsx("div",{className:"flex items-center mt-6",children:(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:u.isActive,onChange:e=>p(t=>({...t,isActive:e.target.checked})),className:"mr-2"}),"활성화"]})})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",disabled:N,children:"취소"}),r.jsx("button",{onClick:_,disabled:N||!u.title.trim()||!u.url.trim(),className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"저장 중...":x?"수정":"추가"})]})]})}),b&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:j?"그룹 편집":"새 그룹 추가"}),r.jsx("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"그룹명 *"}),r.jsx("input",{type:"text",value:y.name,onChange:e=>f(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"메뉴 그룹 이름"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"위치"}),(0,r.jsxs)("select",{value:y.location,onChange:e=>f(t=>({...t,location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"header",children:"헤더"}),r.jsx("option",{value:"footer",children:"푸터"}),r.jsx("option",{value:"sidebar",children:"사이드바"})]})]}),r.jsx("div",{children:(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:y.isActive,onChange:e=>f(t=>({...t,isActive:e.target.checked})),className:"mr-2"}),"활성화"]})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",disabled:N,children:"취소"}),r.jsx("button",{onClick:I,disabled:N||!y.name.trim(),className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"저장 중...":j?"수정":"추가"})]})]})})]})}},8468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`D:\0_프로그램개발\Github\marinebiogroup\src\app\admin\menu\page.tsx#default`)},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(9510),a=s(5384),l=s.n(a);s(5023);let i={title:"KICT Group",description:"혁신과 기술로 미래를 만들어가는 기업"};function n({children:e}){return r.jsx("html",{lang:"ko",children:(0,r.jsxs)("body",{className:l().className,children:[r.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:r.jsx("nav",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"K"})}),r.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"KICT Group"})]}),(0,r.jsxs)("div",{className:"hidden md:flex space-x-8",children:[r.jsx("a",{href:"/",className:"text-gray-700 hover:text-blue-600",children:"홈"}),r.jsx("a",{href:"/about",className:"text-gray-700 hover:text-blue-600",children:"회사소개"}),r.jsx("a",{href:"/services",className:"text-gray-700 hover:text-blue-600",children:"언론보도"}),r.jsx("a",{href:"/services",className:"text-gray-700 hover:text-blue-600",children:"서비스"}),r.jsx("a",{href:"/contact",className:"text-gray-700 hover:text-blue-600",children:"연락처"})]})]})})}),r.jsx("main",{className:"min-h-screen",children:e}),r.jsx("footer",{className:"bg-gray-900 text-white py-12",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold",children:"K"})}),r.jsx("span",{className:"text-xl font-bold",children:"KICT Group"})]}),r.jsx("p",{className:"text-gray-300 mb-4",children:"혁신과 기술로 미래를 만들어가는 기업"}),r.jsx("p",{className:"text-gray-400",children:"\xa9 2024 KICT Group. All rights reserved."})]})})]})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,349],()=>s(654));module.exports=r})();